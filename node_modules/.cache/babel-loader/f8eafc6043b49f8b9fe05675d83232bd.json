{"ast":null,"code":"import axios from 'axios';\nimport dispatchSpinner from '../dispatchSpinner/dispatchSpinner';\nimport dispatchUsers from '../dispatchUsers/dispatchUsers';\nimport dispatchCourses from '../dispatchCourses/dispatchCourses';\n\nvar fetchUsers = function fetchUsers() {\n  var users = []; // let cours = [];\n\n  return function (dispatch) {\n    dispatch(dispatchSpinner(true));\n    axios.get('http://vidyaback.appelloproject.xyz/api/users/').then(function (response) {\n      users = response.data.results;\n      dispatch(dispatchUsers(users)); // dispatch(dispatchCourses(users.courses))\n    }).then(function (res) {\n      return dispatch(dispatchCourses(users.courses));\n    });\n  };\n};\n\nexport default fetchUsers; // let requestCount = 0;\n// response.data.results.forEach(element => {\n//   console.log(element,'elelememe')\n//   axios.get(element.url)\n//     .then(info => {\n//       requestCount++;\n//       cours.push(info.data);\n//       if (requestCount === response.data.results.length) {\n//         dispatch(dispatchCourses(cours))\n//         dispatch(dispatchSpinner(false))\n//       }\n//     })\n// })","map":{"version":3,"sources":["/Users/shelllogix/Desktop/vidya/src/store/actions/fetchUsers/fetchUsers.js"],"names":["axios","dispatchSpinner","dispatchUsers","dispatchCourses","fetchUsers","users","dispatch","get","then","response","data","results","res","courses"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,eAAP,MAA4B,oCAA5B;;AAGA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,MAAIC,KAAK,GAAG,EAAZ,CADuB,CAEvB;;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACL,eAAe,CAAC,IAAD,CAAhB,CAAR;AACAD,IAAAA,KAAK,CAACO,GAAN,CAAU,gDAAV,EACGC,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChBJ,MAAAA,KAAK,GAAGI,QAAQ,CAACC,IAAT,CAAcC,OAAtB;AACAL,MAAAA,QAAQ,CAACJ,aAAa,CAACG,KAAD,CAAd,CAAR,CAFgB,CAGhB;AAED,KANH,EAMKG,IANL,CAMU,UAAAI,GAAG;AAAA,aAAIN,QAAQ,CAACH,eAAe,CAACE,KAAK,CAACQ,OAAP,CAAhB,CAAZ;AAAA,KANb;AAOD,GATD;AAUD,CAbD;;AAeA,eAAeT,UAAf,C,CAGK;AACG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\nimport dispatchSpinner from '../dispatchSpinner/dispatchSpinner';\nimport dispatchUsers from '../dispatchUsers/dispatchUsers';\nimport dispatchCourses from '../dispatchCourses/dispatchCourses';\n\n\nconst fetchUsers = () => {\n  let users = [];\n  // let cours = [];\n  return dispatch => {\n    dispatch(dispatchSpinner(true))\n    axios.get('http://vidyaback.appelloproject.xyz/api/users/')\n      .then(response => {\n        users = response.data.results\n        dispatch(dispatchUsers(users))\n        // dispatch(dispatchCourses(users.courses))\n   \n      }).then(res => dispatch(dispatchCourses(users.courses)))\n  }\n}\n\nexport default fetchUsers\n\n\n     // let requestCount = 0;\n        // response.data.results.forEach(element => {\n        //   console.log(element,'elelememe')\n        //   axios.get(element.url)\n        //     .then(info => {\n        //       requestCount++;\n        //       cours.push(info.data);\n        //       if (requestCount === response.data.results.length) {\n        //         dispatch(dispatchCourses(cours))\n        //         dispatch(dispatchSpinner(false))\n        //       }\n        //     })\n        // })"]},"metadata":{},"sourceType":"module"}