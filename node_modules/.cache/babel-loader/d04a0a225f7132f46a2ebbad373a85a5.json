{"ast":null,"code":"import axios from 'axios';\nimport dispatchUsers from '../dispatchUsers/dispatchUsers';\n\nvar fetchUsers = function fetchUsers() {\n  var users = [];\n  return function (dispatch) {\n    axios.get('http://vidyaback.appelloproject.xyz/api/users/').then(function (response) {\n      var requestCount = 0;\n      response.data.results.forEach(function (element, index) {\n        axios.get(element.url).then(function (info) {\n          users.push(info.data);\n          requestCount++;\n\n          if (requestCount === response.data.results.length) {\n            dispatch(dispatchUsers(users));\n          }\n        });\n      });\n    });\n  };\n};\n\nexport default fetchUsers;","map":{"version":3,"sources":["/Users/shelllogix/Desktop/vidya/src/store/actions/fetchUsers/fetchUsers.js"],"names":["axios","dispatchUsers","fetchUsers","users","dispatch","get","then","response","requestCount","data","results","forEach","element","index","url","info","push","length"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,MAAIC,KAAK,GAAG,EAAZ;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBJ,IAAAA,KAAK,CAACK,GAAN,CAAU,gDAAV,EACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,UAAIC,YAAY,GAAG,CAAnB;AACED,MAAAA,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsBC,OAAtB,CAA8B,UAACC,OAAD,EAASC,KAAT,EAAmB;AAC/Cb,QAAAA,KAAK,CAACK,GAAN,CAAUO,OAAO,CAACE,GAAlB,EACCR,IADD,CACM,UAAAS,IAAI,EAAI;AACZZ,UAAAA,KAAK,CAACa,IAAN,CAAWD,IAAI,CAACN,IAAhB;AACAD,UAAAA,YAAY;;AACZ,cAAGA,YAAY,KAAKD,QAAQ,CAACE,IAAT,CAAcC,OAAd,CAAsBO,MAA1C,EAAkD;AAChDb,YAAAA,QAAQ,CAACH,aAAa,CAACE,KAAD,CAAd,CAAR;AACD;AACF,SAPD;AAQD,OATD;AAUH,KAbD;AAcD,GAfD;AAgBD,CAlBD;;AAoBA,eAAeD,UAAf","sourcesContent":["import axios from 'axios';\nimport dispatchUsers from '../dispatchUsers/dispatchUsers';\n\nconst fetchUsers = () => {\n  let users = [];\n  return dispatch => {\n    axios.get('http://vidyaback.appelloproject.xyz/api/users/')\n    .then(response => {\n      let requestCount = 0;\n        response.data.results.forEach((element,index) => {\n          axios.get(element.url)\n          .then(info => {\n            users.push(info.data);\n            requestCount++;\n            if(requestCount === response.data.results.length) {\n              dispatch(dispatchUsers(users))\n            }\n          })\n        })\n    })\n  }\n}\n\nexport default fetchUsers"]},"metadata":{},"sourceType":"module"}